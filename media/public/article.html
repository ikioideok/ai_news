<!doctype html><meta charset="utf-8"><title>Article</title>
<body>
  <a href="/index.html">← Back</a>
  <h1 id="t"></h1>
  <small id="d"></small>
  <pre id="b"></pre>
  <script>
    const p = new URLSearchParams(location.search);
    const id = p.get('id');
    const fmt = new Intl.DateTimeFormat('ja-JP', { dateStyle: 'medium', timeStyle: 'short' });
    fetch('/api/articles/' + encodeURIComponent(id))
      .then(r => r.json())
      .then(a => {
        document.getElementById('t').textContent = a.title;
        document.getElementById('d').textContent = fmt.format(new Date(a.created_at));
        document.getElementById('b').textContent = a.body;
      })
      .catch(e => document.body.append(' error:' + e));
  </script>
</body>

